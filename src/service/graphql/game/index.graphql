# 1.PK匹配对手GQL
mutation MatchGameMutation {
    matchGame {
        user {
            id
            name
            gender
            avatar_url
        }
        game {
            id
            reward
        }
    }
}

# 1.1匹配机器人
mutation MatchRobotMutation {
    matchRobot {
        id
        reward
        robot_odds
        rival {
            id
            name
            gender
            avatar_url
        }
    }
}

# 2.中途退出,离开比赛GQL
mutation LeaveGameMutation($user_id: Int!, $game_id: Int!) {
    leaveGame(user_id: $user_id, game_id: $game_id) {
        id
        status
        end_at
        winner {
            id
        }
        reward
    }
}

# 3.取消匹配GQL
mutation OfflineGameMutation {
    offlineGame {
        id
        online_at
        online_status
    }
}

#对战取题
query GameQuestionsQuery($game_id: Int!) {
    gameQuestions(game_id: $game_id) {
        id
        description
        answer
        gold
        selections_array {
            Text
            Value
        }
    }
}

#答题对战上报数据
mutation ReceiveGameScore($game_id: Int!, $score: Int!, $user_id: Int) {
    receiveGameScore(game_id: $game_id, score: $score, user_id: $user_id) {
        id
    }
}

# 游戏结束
mutation EndGameMutation($game_id: Int!) {
    endGame(game_id: $game_id) {
        id
        status
        reward
        winner {
            id
        }
        data {
            scores {
                score
                user_id
                submit_at
            }
        }
    }
}

# 查询个人游戏状态
query UserGameQuery($user_id: Int!) {
    userGame(user_id: $user_id) {
        user {
            id
        }
        online_status
        online_at
        in_game {
            surplus_ms
            created_at
            end_at
        }
    }
}

# 查询比赛数据
query GameQuery($game_id: Int!) {
    game(game_id: $game_id) {
        id
        status
        reward
        winner {
            id
        }
        data {
            scores {
                score
                user_id
                submit_at
            }
        }
    }
}

# 答题PK接口是否开启
query SystemConfigQuery {
    systemConfig {
        modules {
            game
        }
    }
}
